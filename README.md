# Api_yamdb
## Описание проекта
Проект YaMDb база данных различных произведений(Titles). Произведения делятся на категории(Category): «Книги», «Фильмы», «Музыка» и т.п.
Произведению может быть присвоен жанр (Genre) из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»).
Пользователи оставляют к произведениям текстовые отзывы (Review) и ставят произведению оценку в диапазоне от одного до десяти (целое число);
из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число).

**Это совместный проект трех студентов 28 когорты Яндекс.Практикума**

## Ресурсы API YaMDb
- Ресурс auth: аутентификация.
- Ресурс users: пользователи.
- Ресурс titles: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
- Ресурс categories: категории (типы) произведений («Фильмы», «Книги», «Музыка»).
- Ресурс genres: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.
- Ресурс reviews: отзывы на произведения. Отзыв привязан к определённому произведению.
- Ресурс comments: комментарии к отзывам. Комментарий привязан к определённому отзыву.

### Полная документация доступна:
**[Полная документация Api_yamdb](https://github.com/AleksandrIsaev/api_yamdb/blob/master/api_yamdb/static/redoc.yaml)**

### Самостоятельная регистрация новых пользователей
**Пользователь отправляет POST-запрос с параметрами email и username на эндпоинт /api/v1/auth/signup/.**
**Сервис YaMDB отправляет письмо с кодом подтверждения (confirmation_code) на указанный адрес email.**
**Пользователь отправляет POST-запрос с параметрами username и confirmation_code на эндпоинт /api/v1/auth/token/, в ответе на запрос ему приходит token (JWT-токен).**

### Запуск проекта в dev-режиме:

**Клонировать репозиторий и перейти в него в командной строке:**

```
git clone https://github.com/AleksandrIsaev/api_yamdb
```

**Cоздать и активировать виртуальное окружение:**

```
python -m venv venv
```

```
source venv/Scripts/activate
```

**Установить зависимости из файла requirements.txt:**

```
python -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

**Выполнить миграции:**

```
python manage.py migrate
```

**Запустить проект:**

```
python manage.py runserver
```
### После заупуска в dev-режиме документация доступна по адресу:


[Документация Api_yamdb](http://127.0.0.1:8000/redoc/)

### В проетке доступна тестовая база данных:

Для загрузки тестовой базы необходимо запустить из консоли
файл script_db.py. Для этого перейти в корневую папку проекта
выполнив команду:
```
cd api_yamdb/
```
и затем запустить на исполнение скрипт:

```
python script_db.py
```


### Некоторые примеры запросов к API:
**Получение списка произведений:**
```
GET http://127.0.0.1:8000/api/v1/titles/
```
**Создание произведения:**
```
POST http://127.0.0.1:8000/api/v1/posts/titles
```
**Добавление отзыва на произведение:**
```
POST http://127.0.0.1:8000/api/v1/titles/{itle_id}/reviews
```
**Добавление комментария к отзыву:**
```
POST http://127.0.0.1:8000/titles/{title_id}/reviews/{review_id}/comments
```


